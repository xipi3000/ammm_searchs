P: Participants list
S in P: (partial) solution
q(p,S): compatibility of the person with others given a partial solution S
Solution: A Set of x particiapnts, x being the sum of the N participants for each department

q(p_1,p_2,S) = { compatibility score of pair p_1, p_2}
triplet(p_1,p_2,p_3) = { search new participant so that its pair value with p_1 and P_2 is at least 0.85}
C <- {}

While lenght(P) != sum(N):
    evaluate q(p_1,p_2,S) Forall p_1, p_2 in P
    p_best <- argmax{q(p_1,p_2,S | p_1, p_2 in P}
    if p_best < 0.15
        evaluate triplet(p_1,p_2,p_3) Forall p_3 in P

    if departments are not full
        S =  <- S union {p_1,p_2,p_3 (if exists)}